<!--pages/test-supabase-storage/test-supabase-storage.wxml-->
<view class="container">
  <view class="header">
    <text class="title">Supabase 数据存储测试</text>
    <text class="subtitle">测试用户数据的增删改查功能</text>
  </view>

  <view class="test-result" wx:if="{{testResult}}">
    <text class="result-text">{{testResult}}</text>
  </view>

  <view class="button-group">
    <button 
      class="test-btn" 
      type="primary" 
      bindtap="testCreateUser"
      loading="{{isLoading}}"
      disabled="{{isLoading}}">
      创建测试用户
    </button>
    
    <button 
      class="test-btn" 
      type="default" 
      bindtap="testQueryUser"
      loading="{{isLoading}}"
      disabled="{{isLoading || !testUserId}}">
      查询用户信息
    </button>
    
    <button 
      class="test-btn" 
      type="default" 
      bindtap="testUpdateUser"
      loading="{{isLoading}}"
      disabled="{{isLoading || !testUserId}}">
      更新用户信息
    </button>
    
    <button 
      class="test-btn" 
      type="default" 
      bindtap="testViewAllUsers"
      loading="{{isLoading}}"
      disabled="{{isLoading}}">
      查看所有用户
    </button>
    
    <button 
      class="test-btn" 
      type="warn" 
      bindtap="testDeleteUser"
      loading="{{isLoading}}"
      disabled="{{isLoading || !testUserId}}">
      删除测试用户
    </button>
    
    <button 
      class="test-btn clear-btn" 
      type="warn" 
      bindtap="cleanTestData"
      loading="{{isLoading}}"
      disabled="{{isLoading}}">
      清理所有测试数据
    </button>
  </view>

  <view class="loading" wx:if="{{isLoading}}">
    <text>测试中，请稍候...</text>
  </view>
</view>